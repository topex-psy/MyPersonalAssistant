<!doctype html>
<html>
  <head>
    <title>Operation Loading ...</title>
    <link href="css/operation.css" rel="stylesheet"/>
    <script src="vendor/jquery-2.1.3.min.js"></script>
  </head>
  <body>
    <div id="header">
      <div id="header-wrapper">
        <h1 id="header-title">
          Operation Room
        </h1>
        <small>
          by <span id="header-author"></span>
        </small>
      </div>
      <div>
        <a href="#manifest" class="active">Identity</a>
        <a href="#code">Body</a>
        <a href="#knowledge">Knowledge</a>
      </div>
      <div>
        <a id="btn-close">Close</a>
        <div class="dropdown">
          <a class="btn-dropdown">
            <span>
              Import/Export &#x25BC;
            </span>
          </a>
          <ul class="dropdown-list">
            <li><a id="btn-import">Import</a></li>
            <li><a id="btn-export">Export</a></li>
          </ul>
        </div>
        <a id="btn-save">Save Changes</a>
      </div>
    </div>
    <div class="caption">
      <p data-tab="manifest">
        Here you describe basic informations about this assistant.
      </p>
      <p data-tab="code">
        Here you provide body structure of this assistant using HTML and CSS code.
      </p>
      <p data-tab="knowledge">
        Here you define any possible feedbacks from and to this assistant when triggered or based on current active URL.
      </p>
      <p data-tab="code">
        TIPS: You can copy and edit in your code editor app and paste them back here.
      </p>
      <p class="warning" id="json-warning">
        WARNING:&nbsp;<span>JSON must be in valid format.</span>
      </p>
      <p class="success" id="json-success">
        All fields has been checked and valid.
      </p>
    </div>
    <div class="container">
      <div class="panel">
        <div class="panel-section" id="panel-manifest" data-tab="manifest" data-view="1">
          <div class="panel-header">
            <h4>manifest.json</h4>
            <ul>
              <li><a data-view="1">Code View</a></li>
              <li><a data-view="2">Form View</a></li>
            </ul>
          </div>
          <div class="panel-content">
            <div class="editor-container" data-view="1">
              <div class="editor" id="editor-manifest">loading ...</div>
            </div>
            <form id="manifest-form" data-view="2">
              <div class="form-group">
                <label>ID</label>
                <input type="text" name="id" required minlength="4"/>
              </div>
              <div class="form-group">
                <label>Name</label>
                <input type="text" name="name" required/>
              </div>
              <div class="form-group">
                <label>Author</label>
                <input type="text" name="author" required/>
              </div>
              <div class="form-group">
                <label>Website</label>
                <input type="url" name="website"/>
              </div>
              <div class="form-group">
                <label>Version</label>
                <input type="text" name="version" required/>
              </div>
              <div class="form-group">
                <label>Talkativeness</label>
                <input type="number" min="1" max="5" step="1" name="talkativeness"/>
              </div>
              <div class="form-group">
                <label>Hyperactiveness</label>
                <input type="number" min="1" max="5" step="1" name="hyperactiveness"/>
              </div>
            </form>
          </div>
        </div>
        <div class="panel-section" id="panel-html" data-tab="code" data-view="1">
          <div class="panel-header">
            <div class="panel-title">
              <h4>html.html</h4>
              <span class="status"></span>
            </div>
            <ul>
              <li><a data-view="1">Code View</a></li>
              <li><a data-view="2">Preview</a></li>
            </ul>
          </div>
          <div class="panel-content">
            <div class="editor-container" data-view="1">
              <div class="editor" id="editor-html">loading ...</div>
            </div>
            <div data-view="2"></div>
          </div>
        </div>
        <div class="panel-section" id="panel-knowledge" data-tab="knowledge">
          <div class="panel-header">
            <h4>knowledge.json</h4>
          </div>
          <div class="panel-content">
            <div class="editor-container">
              <div class="editor" id="editor-knowledge">loading ...</div>
            </div>
          </div>
        </div>
      </div>
      <div class="content">
        <div id="content-manifest" data-tab="manifest">
          <h3>Icon</h3>
          <p>Alpha transparent <code>.png</code> or <code>.gif</code> image with 32 x 32px size.</p>
          <div id="panel-icon">
            <img id="icon" src="assistants/new/icon.png"/>
            <input type="file" placeholder="Browse image"/>
          </div>
          <h3>Basic Informations</h3>
          <table>
            <tbody>
              <tr><td><code>id</code></td><td>Assistant ID that is lowercase text with no space, minimum 4 letters</td></tr>
              <tr><td><code>name</code></td><td>Assistant name</td></tr>
              <tr><td><code>author</code></td><td>Author of this assistant</td></tr>
              <tr><td><code>website</code></td><td>Website (URL) of the author or this assistant</td></tr>
              <tr><td><code>version</code></td><td>Version number of this assistant</td></tr>
              <tr><td><code>icon</code></td><td><code>icon.png</code> or <code>icon.gif</code> based on icon format.</td></tr>
            </tbody>
          </table>
          <h3>Characteristics</h3>
          <table>
            <tbody>
              <tr><td><code>talkativeness</code></td><td>1-5 Rating for talkativeness. The higher means it'll be more often to say anything about your opened tab or activity. These things can be taught in the <a href="#knowledge">Knowledge</a> panel. (Optional) (Default = 3)</td></tr>
              <tr><td><code>hyperactiveness</code></td><td>1-5 Rating for hyperactiveness. The higher means it'll do much more thing in shorter time interval. (Optional) (Default = 3)</td></tr>
            </tbody>
          </table>
          <h3>Activity</h3>
          <table>
            <tbody>
              <tr><td><code>id</code></td><td>Activity ID that is lowercase text with no space e.g. "dance". Anything other than "walk" because it is default and preserved Activity ID.</td></tr>
              <tr><td><code>name</code></td><td>Activity name e.g. "Dance"</td></tr>
              <tr><td><code>duration</code></td><td>Activity fixed duration in millisecond e.g. 5000 which means 5 seconds. (Optional) (Default = random between 3 to 8 seconds)</td></tr>
              <tr><td><code>durationMin</code></td><td>For random duration, durationMax must also defined or else it'll be ignored. (Optional)</td></tr>
              <tr><td><code>durationMax</code></td><td>See above. (Optional)</td></tr>
            </tbody>
          </table>
        </div>
        <div id="content-html" data-tab="code">
          <h3>HTML</h3>
          <p>
            You must make it in single element, e.g. using <code>&lt;div id="doggo"&gt;&lt;/div&gt;</code> to wrap all the inner elements. That parent wrapper will have one or more dynamically-added attributes as defined in the table bellow:
          </p>
          <table>
            <tbody>
              <tr><td><code>[data-activity="('walk' or custom)"]</code></td><td>Filled with Activity ID as the attribute value e.g. <code>[data-activity="walk"]</code> which indicates what activity the assistant doing. Activity IDs other than "walk" can be defined in the <a href="#manifest">Manifest</a>.</td></tr>
              <tr><td><code>[data-facing="('left' or 'right')"]</code></td><td>Filled with "left", "right", or removed which indicates where this assistant heading.</td></tr>
              <tr><td><code>[data-talking="true"]</code></td><td>Filled with "true" or removed which indicates whether this assistant is talking or not.</td></tr>
              <tr><td><code>[data-attention="true"]</code></td><td>Filled with "true" or removed which indicates whether this assistant is talking or not.</td></tr>
              <tr><td><code>[data-greeting="true"]</code></td><td>Filled with "true" or removed which indicates whether this assistant is introducing themself or not. Usually once when this assistant is summoned.</td></tr>
            </tbody>
          </table>
          <div class="caption no-padding">
            <p>If you're using image files, host them to fast web hosting service of your own. Use <code>https</code>!</p>
            <p class="warning">
              <strong>
                Don't use javascript!
              </strong>
            </p>
          </div>
        </div>
        <div id="content-knowledge" data-tab="knowledge">
          <h3>Parent</h3>
          <table>
            <tbody>
              <tr><td><code>responses</code></td><td>List of default feedbacks in all circumstances, unless replaced by <code>responses</code> later in the child knowledge.</td></tr>
              <tr><td><code>to_lookup</code></td><td>List of default answers that will trigger another response in all circumstances, unless replaced by <code>to_lookup</code> later in the child knowledge.</td></tr>
              <tr><td><code>to_shutup</code></td><td>List of default answers that will only dismiss the talk balloon in all circumstances, unless replaced by <code>to_shutup</code> later in the child knowledge.</td></tr>
              <tr><td><code>to_dismiss</code></td><td>List of default answers that will dismissing this assistant in all circumstances, unless replaced by <code>to_dismiss</code> later in the child knowledge.</td></tr>
              <tr><td><code>greet</code></td><td>When this assistant greets you, containing list of <code>responses</code> and <code>to_shutup</code> or <code>to_shutup_add</code> which used to dismiss the talk balloon.</td></tr>
              <tr><td><code>dismiss</code></td><td>When this assistant about to be dismissed, containing list of <code>responses</code>, <code>to_dispel</code> to confirm, and <code>to_shutup</code> or <code>to_shutup_add</code> to cancel the dismission.</td></tr>
              <tr><td><code>click</code></td><td>When this assistant clicked, containing list of <code>responses</code> and <code>to_lookup</code> or <code>to_lookup_add</code> which used to trigger the lookup for current opened URL.</td></tr>
              <tr><td><code>count</code></td><td>When this assistant count your opened tabs, containing list of <code>responses</code> that's divided into <code>less</code> and <code>many</code> (if more than 25 tabs opened) and <code>to_shutup</code> or <code>to_shutup_add</code>.</td></tr>
              <tr><td><code>hosts</code></td><td>When this assistant activated or looking into your opened URL, it'll say anything about that based on knowledge defined here.</td></tr>
              <tr><td><code>hosts_unknown</code></td><td>If cannot find any match in the <code>hosts</code> knowledge, it'll become the fallback.</td></tr>
              <tr><td><code>maximum_options</code></td><td>Determine how much answers options available to respond to this assistant talking, can be between 1-5, the default is 2.</td></tr>
              <tr><td><code>balloon_offset</code></td><td>Set the <code>bottom</code> and <code>left</code> value to customize the position of dialog balloon.</td></tr>
            </tbody>
          </table>
          <h3>Child</h3>
          <table>
            <tbody>
              <tr><td><code>responses</code></td><td>This will replaces <code>responses</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_lookup</code></td><td>This will replaces <code>to_lookup</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_shutup</code></td><td>This will replaces <code>to_shutup</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_dismiss</code></td><td>This will replaces <code>to_dismiss</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_dispel</code></td><td>This will dismiss the assistant from all tabs. Can only be used in the <code>dismiss</code>.</td></tr>
              <tr><td><code>responses_add</code></td><td>This will concatenates with the <code>responses</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_lookup_add</code></td><td>This will concatenates with the <code>to_lookup</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_shutup_add</code></td><td>This will concatenates with the <code>to_shutup</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>to_dismiss_add</code></td><td>This will concatenates with the <code>to_dismiss</code> that have been defined in the parent. (See above)</td></tr>
              <tr><td><code>keyword</code></td><td>Child of <code>hosts</code> that is portion of website URL to match the knowledge, usually the hostname.</td></tr>
              <tr><td><code>specifics</code></td><td>Child of <code>hosts</code> that is another portion of website URL to match the knowledge in order to make more specific feedbacks.</td></tr>
              <tr><td><code>title_remove</code></td><td>Child of <code>hosts</code> that is part of the website title that is not needed to say.</td></tr>
            </tbody>
          </table>
          <h3>Wildcards</h3>
          <table>
            <tbody>
              <tr><td><code>[name]</code></td><td>This will be replaced with the name of this assistant e.g. "Hello, my name is [name]!"</td></tr>
              <tr><td><code>[title]</code></td><td>This will be replaced with website title or portion of it if you defined <code>title_remove</code> e.g. "I've watched [title] and it's good!"</td></tr>
              <tr><td><code>[count]</code></td><td>This will be replaced with the count of your opened tabs. This can only be used in <code>responses</code> of <code>count</code></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="container" data-tab="code">
      <div class="panel">
        <div class="panel-section" id="panel-css" data-view="1">
          <div class="panel-header">
            <div class="panel-title">
              <h4>style.css</h4>
              <span class="status"></span>
            </div>
            <ul>
              <li><a data-view="1">Code View</a></li>
              <li><a data-view="2">Preview</a></li>
            </ul>
          </div>
          <div class="panel-content">
            <div class="editor-container" data-view="1">
              <div class="editor" id="editor-css">loading ...</div>
            </div>
            <div data-view="2"></div>
          </div>
        </div>
      </div>
      <div class="content">
        <div id="content-css">
          <h3>CSS</h3>
          <strong>General Style</strong>
          <p>Please don't use relative units such as <code>vw</code>, <code>vh</code>, <code>vmin</code>, <code>vmax</code>. Just use <code>px</code>!</p>
          <div class="row">
            <div class="col" style="max-width: 280px;">
              <strong>Facing Style</strong>
              <p>Example: (Play with transform)</p>
<code class="multiline">#doggo[data-facing="right"] {
  transform: rotateY(180deg);
}</code>
              <p>Example #2: (Play with visibility)</p>
<code class="multiline">#doggo .layer.facing-left,
#doggo .layer.facing-right {
  display: none;
}
#doggo[data-facing] .layer.facing-front {
  display: none;
}
#doggo[data-facing="left"] .layer.facing-left {
  display: block;
}
#doggo[data-facing="right"] .layer.facing-right {
  display: block;
}</code>
            </div>
            <div class="col">
              <strong>Activity Style</strong>
              <p>Example:</p>
<code class="multiline">#doggo[data-activity="walk"] {
  /* CSS properties to animate this assistant. You can play with CSS keyframes, transforms, layer visibility, etc. */
}
#doggo[data-activity="dance"] {
}
#doggo[data-activity="pee"] {
}
#doggo[data-activity="poop"] {
}</code>
              <div class="caption no-padding">
                <p>Note that <code>[data-activity="walk"]</code> is mandatory as it's a default preserved Activity ID. That's used to trigger the walking motion of this assistant, but just stay in place, don't make them move!</p>
                <p>Any other IDs defined in <a href="#manifest">Manifest</a> must be set in your CSS respectively.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <input type="file" id="file-import" accept="application/JSON"/>
    <script src="https://pagecdn.io/lib/ace/1.4.12/ace.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/operation.js"></script>
    <script src="js/editor.js"></script>
  </body>
</html>